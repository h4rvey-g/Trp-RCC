# Zellij 使用指南和快捷键

Zellij 是一个现代化的终端工作区和多路复用器，旨在提供简单、高效的用户体验。本文档将介绍其基本概念和常用快捷键。

## 核心概念

- **Panes (窗格)**: 在一个标签页内，您可以将屏幕分割成多个独立的窗格，每个窗格都有自己的 shell。
- **Tabs (标签页)**: 类似于浏览器标签页，您可以在一个 Zellij 会话中拥有多个标签页，每个标签页可以有自己的一套窗格布局。
- **Modes (模式)**: Zellij 采用基于模式的界面。按下 `Ctrl` + `p` 或 `Alt` (在某些终端中是 `Esc`) 会进入 **Pane 模式**，按下 `Ctrl` + `t` 会进入 **Tab 模式**，等等。在这些模式下，键盘上的按键会变成快捷键，而不是输入到 shell 中。再次按下 `Enter` 会返回 **Normal 模式**。

## 启动与退出

- **启动**: 在终端中输入 `zellij` 即可启动一个新会话。
- **退出会话**: 在会话中，输入 `exit` 或按下 `Ctrl` + `d` 会关闭当前窗格。当所有窗格和标签页都关闭后，Zellij 会话将结束。
- **强制退出**: 按下 `Ctrl` + `q` 进入 **Session 模式**，然后按 `y` 确认退出。

---

## 常用快捷键

### 锁定模式 (Lock Mode)

默认情况下，Zellij 处于锁定模式，以防止意外的快捷键操作。您需要先进入一个特定模式才能执行操作。

- `Ctrl` + `g`: 锁定/解锁界面。当界面锁定时，所有按键（除了 `Ctrl`+`g`）都会被发送到终端。这是在不离开 Zellij 的情况下与需要这些快捷键的程序（如 `vim`）交互的推荐方式。

### 窗格操作 (Pane Mode)

按下 `Ctrl` + `p` 进入窗格模式。

- `n` 或 `↓`: 创建一个新窗格在下方。
- `r` 或 `→`: 创建一个新窗格在右方。
- `h` 或 `←`: 移动到左边的窗格。
- `l` 或 `→`: 移动到右边的窗格。
- `j` 或 `↓`: 移动到下方的窗格。
- `k` 或 `↑`: 移动到上方的窗格。
- `x`: 关闭当前窗格。
- `f`: 将当前窗格全屏显示/还原。
- `z`: 将当前窗格全屏显示/还原 (同 `f`)。
- `w`: 切换浮动窗格和堆叠窗格布局。
- `d`: 向下移动浮动窗格。
- `u`: 向上移动浮动窗格。

### 标签页操作 (Tab Mode)

按下 `Ctrl` + `t` 进入标签页模式。

- `n` 或 `→`: 创建一个新标签页。
- `h` 或 `←`: 移动到上一个标签页。
- `l` 或 `→`: 移动到下一个标签页。
- `x`: 关闭当前标签页。
- `r`: 重命名当前标签页。
- `[1-9]`: 直接跳转到对应的标签页。

### 调整大小模式 (Resize Mode)

按下 `Ctrl` + `n` 进入调整大小模式。

- `h` 或 `←`: 向左缩小窗格。
- `l` 或 `→`: 向右扩大窗格。
- `j` 或 `↓`: 向下缩小窗格。
- `k` 或 `↑`: 向上扩大窗格。
- `+` / `=`: 增加窗格大小。
- `-`: 减小窗格大小。

### 滚动和搜索模式 (Scroll & Search Mode)

按下 `Ctrl` + `s` 进入滚动模式。

- `↑` / `k`: 向上滚动一行。
- `↓` / `j`: 向下滚动一行。
- `PageUp`: 向上翻一页。
- `PageDown`: 向下翻一页。
- `Ctrl` + `f` / `d`: 向下翻半页。
- `Ctrl` + `b` / `u`: 向上翻半页。
- `/`: 进入搜索模式，输入关键词后按 `Enter`。
- `n`: 跳转到下一个搜索匹配项。
- `p`: 跳转到上一个搜索匹配项。

### 会话操作 (Session Mode)

按下 `Ctrl` + `q` 进入会话模式。

- `d`: 从当前会话中分离 (Detach)，Zellij 会话会在后台继续运行。
  - **重新连接**: `zellij attach`
- `y`: 确认退出会话。
- `n`: 取消退出。

---

## 自定义配置

您可以创建一个配置文件来自定义快捷键和行为。

1.  创建配置文件: `~/.config/zellij/config.kdl`
2.  您可以从默认配置开始修改，使用以下命令导出默认配置：
    ```bash
    zellij setup --dump-config > ~/.config/zellij/config.kdl
    ```

希望这个指南对您有帮助！